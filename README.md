# ServerTimer
Данная программа была выложена в свободный доступ с разрешения заказчика.

Описание программы ServerTimer:
Программа ServerTimer позволяет проводить манипуляии с CSV-файлами серверов.
Входные данные программы: "Server.csv".
Для корректного считывания данных "Server.csv" должен быть разделён на группы: Ready to use, Sleeping, Broken.


CSV-файл открывается в Excel в таблицном виде, и у него бывает два типа разделителей: ';' и ','
Если CSV-файл открывается в Excel в одну строчку, смените разделитель. Для этого существует специальная команда.


Изначальное количество часов для сна серверов - 48. Оно может быть изменено с помощью специальной команды, и будет записано
в отдельном файле info.txt, что позволяет хранить это число на протяжении всех последующих сеансов при условии сохранения info.txt.


Программа хранит log.txt и info.txt. Их не стоит трогать, поскольку они модифицируются исходным кодом.


Программа сама осуществляет "подъём" серверов, которым нужно вставать по истечении количества часов для сна.


Программа поддерживает систему резервных копий. Резервная копия создаётся при использовании специальной команды.
Так же существует команда для программного восстановления из резервной копии.
Имена резервных файлов: "Server_backup.txt" и "log_backup.txt". По ним могут быть восстановлены все данные и временные точки на момент
создания резервной копии. Программа автоматически напоминает, если резервная копия не делалась больше 10 дней.


ВНИМАНИЕ!!! Программа не может менять открытый в Excel CSV-файл, поскольку Excel кэширует состояние файла, если он открыт, и программа
не сможет записать данные. Однако программа кэширует свои изменения во время сеанса. Поэтому если закрыть Excel, не выходя из программы, 
использовать команду update, а затем заново открыть файл в Excel, все изменения станут видны.

****************************************************************************************************************************************
*Примечание*
Программа сама осуществляет автоматический поиск всех серверов.
Она так же ведёт диалог с пользователем.

*Примечание 2*
В сигнатурах команд [num] означает число. Если [num] несколько, то это значит, что команда может принимать несколько входных значений
чисел.
Сброс таймера осуществляется на момент времени равный текущему моменту минус 1000 часов.
****************************************************************************************************************************************

Список команд:
rdy [num] [num] [num]	 -------Принудительно переносит сервер из группы спящих в  группу рабочих, при этом будет сброшен его таймер.  
			 -------Не переносит сломанные сервера.

		
slp [num] [num] [num]	 -------Переносит сервер в группу спящих серверов, фиксируя за ним текущее время. Не переносит сломанные
			 -------сервера
	
	
brkn [num] [num] [num]	 -------Переносит сервер в группу сломанных серверов.

		
repair [num] [num] [num] -------Переносит сервер из группы сломанных серверов в группу готовых к работе, при этом сбрасывая его таймер.	
	

chsep [num]		 -------Изменяет разделитель в CSV-файле (0 - для ';', 1 - для ',').


chslp [num]		 -------Изменяет количество часов, которые будут спать сервера.

update			 -------Обновляет CSV-файл, лог и "будит" все сервера, которым пора проснуться.

addr			 -------Добавляет новый сервер в группу готовых серверов.

adds		 	 -------Добавляет новый сервер в группу спящих серверов, фиксируя за ним текущее время.

addb			 -------Добавляет новый сервер в группу сломанных серверов.

delete [num] [num] [num] -------Безвозвратно удаляет сервер.

status [num] [num] [num] -------Выводит информацию о нахождении сервера в одной из групп.

worklist		 -------Выводит список всех рабочих серверов по возрастанию даты последнего сна.

sleeplist		 -------Выводит список всех спящих серверов по возрастанию даты последнего сна.

brokenlist		 -------Выводит список всех сломанных серверов по возрастанию даты последнего сна.

info			 -------Выводит общую информацию о сеансе программы.

backup			 -------Делает резервную копию CSV-файла.

restore 		 -------Восстановление из резервной копии.

help			 -------Выводит список команд в самой программе.

exit			 -------Сохраняет все данные, обновляет все файлы и выходит из программы.